<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ゲーム結果</title>
</head>
<body>
    <h1>ゲーム結果</h1>
    <p>このページでは、ゲーム結果が表示されます。</p>

    <p>画像番号を入力してください（例: 001, 002, ...）</p>
    <input type="text" id="imageNumber" placeholder="番号を入力">
    <button onclick="loadImage()">画像を表示</button>
    
    <!-- 画像表示 -->
    <img id="resultImage" src="" alt="ゲーム結果画像" style="max-width: 100%; height: auto; display: none;">

    <script>
        function loadImage() {
            var imageNumber = document.getElementById('imageNumber').value;  // 入力された番号を取得
            if (imageNumber) {
                var imageUrl = "https://ren-241121.onrender.com/get_image/" + imageNumber + "?t=" + new Date().getTime();  // 完全なURLを指定し、キャッシュを防ぐためにtimestampを追加
                console.log("Generated Image URL: " + imageUrl);  // 生成されたURLをコンソールに表示
                var imgElement = document.getElementById('resultImage');
                imgElement.src = imageUrl;  // 画像のsrcを設定

                // 画像がロードされるまで、画像エレメントを非表示にしておく
                imgElement.onload = function() {
                    imgElement.style.display = "block";  // 画像がロードされたら表示
                };

                imgElement.onerror = function() {
                    alert("指定された画像が見つかりませんでした。番号を再確認してください。");
                    imgElement.style.display = "none";  // エラー時は画像を非表示にする
                };
            } else {
                alert("画像番号を入力してください");
            }
        }
    </script>
</body>
</html>
